<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Service Order</title>
    <style>
        body {
            font-family: sans-serif;
            margin: 20px;
            background-color: #f4f4f4;
        }
        .container {
            background-color: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            max-width: 800px;
            margin: 0 auto;
        }
        h2, h3 {
            color: #337ab7;
            margin-top: 0;
            margin-bottom: 20px;
        }
        .form-row {
            display: flex;
            gap: 20px;
            margin-bottom: 15px;
        }
        .form-column {
            flex: 1;
        }
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: #555;
        }
        input[type="text"],
        input[type="email"],
        input[type="date"],
        input[type="number"],
        select,
        textarea,
        input[type="file"] {
            width: calc(100% - 12px);
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 4px;
            box-sizing: border-box;
            margin-bottom: 10px;
        }
        input[type="radio"],
        input[type="checkbox"] {
            margin-right: 5px;
        }
        .property-group label,
        .service-type-group label {
            font-weight: normal;
            margin-right: 15px;
        }
        .section-divider {
            border-top: 1px solid #eee;
            margin-top: 20px;
            margin-bottom: 20px;
        }
        .cf103-header {
            color: #337ab7;
            font-size: 1.2em;
            text-align: right;
            margin-bottom: 10px;
        }
        .required::after {
            content: "*";
            color: red;
            margin-left: 5px;
        }
        .equipment-section, .parts, .workforce {
            margin-bottom: 20px;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 4px;
            background-color: #f9f9f9;
        }
        .equipment, .part-row, .workforce-row {
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 1px solid #eee;
        }
        .equipment:last-child, .part-row:last-child, .workforce-row:last-child {
            border-bottom: none;
        }
        .add-equipment, .add-part, .add-workforce, .submit-btn {
            background-color: #5cb85c;
            color: white;
            padding: 10px 15px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 1em;
            margin-top: 10px;
        }
        .add-equipment:hover, .add-part:hover, .add-workforce:hover, .submit-btn:hover {
            background-color: #4cae4c;
        }
        .qt-price-row {
            display: flex;
            gap: 10px;
        }
        .qt-price-row > div {
            flex: 1;
        }
        .partSubTotal-container, .workforceSubTotal-container {
            margin-top: 10px;
        }
        .grand-total-section {
            margin-top: 20px;
            padding: 15px;
            background-color: #eee;
            border-radius: 4px;
            text-align: right;
            font-size: 1.1em;
        }
        .grand-total-section strong {
            font-weight: bold;
        }
        .grand-total-section input[type="text"] {
            width: auto;
            display: inline-block;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="cf103-header">CF103</div>
        <h2>Service Order</h2>
        <form id="myForm" action="https://formsubmit.co/pietrogiordanoc@gmail.com" method="POST" enctype="multipart/form-data">
            <div class="form-row">
                <div class="form-column">
                    <label for="date" class="required">Date:</label>
                    <input type="date" id="date" name="date" required>
                </div>
                <div class="form-column">
                    <label for="techEmail" class="required">Tech Email:</label>
                    <input type="email" id="techEmail" name="techEmail" required>
                </div>
            </div>

            <div class="form-row">
                <div class="form-column">
                    <label for="technician" class="required">Technician:</label>
                    <input type="text" id="technician" name="technician" required>
                </div>
                <div class="form-column">
                    <label for="salesManagerEmail" class="required">Sales Manager Email:</label>
                    <input type="email" id="salesManagerEmail" name="salesManagerEmail" required>
                </div>
            </div>

            <div class="form-row">
                <div class="form-column">
                    <label for="customerName" class="required">Customer Name:</label>
                    <input type="text" id="customerName" name="customerName" required>
                </div>
                <div class="form-column">
                    <label for="customerEmail">Customer Email:</label>
                    <input type="email" id="customerEmail" name="customerEmail">
                </div>
            </div>

            <div class="form-row">
                <div class="form-column">
                    <label class="required">Property:</label>
                    <div class="property-group">
                        <input type="radio" id="pld" name="property" value="PLD" required>
                        <label for="pld">PLD</label>
                        <input type="radio" id="laColombe" name="property" value="La Colombe">
                        <label for="laColombe">La Colombe</label>
                        <input type="radio" id="owner" name="property" value="Owner">
                        <label for="owner">Owner</label>
                    </div>
                </div>
                <div class="form-column">
                    <label>Service Type:</label>
                    <div class="service-type-group">
                        <input type="checkbox" id="delivery" name="serviceType[]" value="Delivery">
                        <label for="delivery">Delivery</label>
                        <input type="checkbox" id="pickup" name="serviceType[]" value="Pick up">
                        <label for="pickup">Pick up</label>
                        <input type="checkbox" id="service" name="serviceType[]" value="Service">
                        <label for="service">Service</label>
                        <input type="checkbox" id="tuneup" name="serviceType[]" value="Tune up">
                        <label for="tuneup">Tune up</label>
                        <input type="checkbox" id="training" name="serviceType[]" value="Training">
                        <label for="training">Training</label>
                        <input type="checkbox" id="other" name="serviceType[]" value="Other">
                        <label for="other">Other</label>
                    </div>
                </div>
            </div>

            <div class="section-divider"></div>

            <h3>Equipment</h3>
            <div class="equipment-section">
                <div class="equipment">
                    <div class="form-row">
                        <div class="form-column">
                            <label for="equipmentType">Equipment Type:</label>
                            <select id="equipmentType" name="equipmentType[]">
                                <option value="espresso">Espresso Coffee Equipment</option>
                                <option value="coffeeMachine">Coffee Machine</option>
                                <option value="coffeeGrinder">Coffee Grinder</option>
                                <option value="dripCoffee">Drip Coffee</option>
                                <option value="dripBrewer">Drip Brewer</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-column">
                            <label for="equipmentBrandModel">Brand & Model:</label>
                            <input type="text" id="equipmentBrandModel" name="equipmentBrandModel[]">
                        </div>
                        <div class="form-column">
                            <label for="equipmentSerialNumber">Serial Number:</label>
                            <input type="text" id="equipmentSerialNumber" name="equipmentSerialNumber[]">
                        </div>
                    </div>
                </div>
                <button type="button" class="add-equipment">Add more Equipment</button>
            </div>

            <div class="section-divider"></div>

            <h3>Parts</h3>
            <div class="parts">
                <div class="part-row">
                    <div class="form-row">
                        <div class="form-column">
                            <label>Part Number:</label>
                            <input type="text" class="partNumber" name="partNumber[]">
                        </div>
                        <div class="form-column">
                            <label>Description:</label>
                            <input type="text" class="partDescription" name="partDescription[]">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-column">
                            <div class="qt-price-row">
                                <div>
                                    <label>Qt:</label>
                                    <input type="number" name="partQt[]" min="0" class="partQt" value="0">
                                </div>
                                <div>
                                    <label>Unit Price: $</label>
                                    <input type="number" name="partUnitPrice[]" step="0.01" class="partUnitPrice" value="0">
                                </div>
                            </div>
                        </div>
                        <div class="form-column">
                            <div class="partSubTotal-container">
                                <label>Sub Total: $</label>
                                <input type="text" name="partSubTotal[]" step="0.01" class="partSubTotal" readonly value="0.00">
                            </div>
                        </div>
                    </div>
                </div>
                <button type="button" class="add-part">Add more Parts</button>
            </div>

            <h3>Parts Total</h3>
            <div>
                <label for="partsTotal"><strong>Parts Total:</strong> $</label>
                <input type="text" id="partsTotal" name="partsTotal" step="0.01" class="partsTotal" readonly value="0.00">
            </div>

            <div class="section-divider"></div>

            <h3>Workforce</h3>
            <div class="workforce">
                <div class="workforce-row">
                    <div class="form-row">
                        <div class="form-column">
                            <label for="workforceHrs">Hrs:</label>
                            <input type="number" id="workforceHrs" name="workforceHrs[]" min="0" class="workforceHrs" value="0">
                        </div>
                        <div class="form-column">
                            <label for="workforcePriceHr">Price/Hr (USD):</label>
                            <input type="number" id="workforcePriceHr" name="workforcePriceHr[]" step="0.01" class="workforcePriceHr" value="0">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-column">
                            <div class="workforceSubTotal-container">
                                <label for="workforceSubTotal">Sub Total (USD):</label>
                                <input type="text" id="workforceSubTotal" name="workforceSubTotal[]" step="0.01" class="workforceSubTotal" readonly value="0.00">
                            </div>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-column">
                            <label for="workforceNotes">Notes:</label>
                            <input type="text" id="workforceNotes" name="workforceNotes[]">
                        </div>
                    </div>
                </div>
                <button type="button" class="add-workforce">Add more</button>
            </div>

            <div class="grand-total-section">
                <label for="grandTotal"><strong>Grand Total (USD):</strong></label>
                <input type="text" id="grandTotal" name="grandTotal" step="0.01" readonly value="0.00">
            </div>

            <div class="section-divider"></div>

            <div class="form-row">
                <div class="form-column">
                    <label for="attachment" class="required">Photos:</label>
                    <input type="file" id="attachment" name="attachment" multiple accept="image/*" capture="environment" required>
                </div>
                <div class="form-column">
                    <label for="jobDescription" class="required">Nature of labor performed (Job Description):</label>
                    <textarea id="jobDescription" name="jobDescription" required></textarea>
                </div>
            </div>

            <div class="form-row">
                <div class="form-column">
                    <label for="customerSignature" class="required">Customer Signature:</label>
                    <input type="text" id="customerSignature" name="customerSignature" required>
                </div>
                <div class="form-column">
                    <label for="printName" class="required">Print Name:</label>
                    <input type="text" id="printName" name="printName" required>
                </div>
            </div>

            <input type="hidden" name="_next" value="https://example.com/thank-you.html">
            <input type="hidden" name="_subject" value="New submission!">
            <button type="submit" class="submit-btn">Submit</button>
        </form>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const partsSection = document.querySelector('.parts');
            const addPartButton = document.querySelector('.add-part');
            const workforceSection = document.querySelector('.workforce');
            const addWorkforceButton = document.querySelector('.add-workforce');
            const equipmentSection = document.querySelector('.equipment-section');
            const addEquipmentButton = document.querySelector('.add-equipment');

            function calculateTotals() {
                let partsTotal = 0;
                document.querySelectorAll('.part-row').forEach(row => {
                    const qtInput = row.querySelector('.partQt');
                    const unitPriceInput = row.querySelector('.partUnitPrice');
                    const subTotalInput = row.querySelector('.partSubTotal');
                    if (qtInput && unitPriceInput && subTotalInput) {
                        const qt = parseFloat(qtInput.value) || 0;
                        const unitPrice = parseFloat(unitPriceInput.value) || 0;
                        const subTotal = qt * unitPrice;
                        subTotalInput.value = subTotal.toFixed(2);
                        partsTotal += subTotal;
                    }
                });
                document.querySelector('.partsTotal').value = partsTotal.toFixed(2);

                let workforceTotal = 0;
                document.querySelectorAll('.workforce-row').forEach(row => {
                    const hrsInput = row.querySelector('.workforceHrs');
                    const priceHrInput = row.querySelector('.workforcePriceHr');
                    const subTotalInput = row.querySelector('.workforceSubTotal');
                    if (hrsInput && priceHrInput && subTotalInput) {
                        const hrs = parseFloat(hrsInput.value) || 0;
                        const priceHr = parseFloat(priceHrInput.value) || 0;
                        const subTotal = hrs * priceHr;
                        subTotalInput.value = subTotal.toFixed(2);
                        workforceTotal += subTotal;
                    }
                });

                const grandTotal = partsTotal + workforceTotal;
                document.
